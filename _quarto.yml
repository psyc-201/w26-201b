project:
  type: website
  output-dir: docs
  preview:
    port: 9999
  render:
    - "*.qmd"
    - "!**/wip/*"
    - "!**/prep/*"
    - "!dev/"
    - "!specs/"
    - "!slides/"
    - "!classroom/"
    - "!weeks/**/prep/"
    - "!weeks/0[3-9]/**"
    - "!weeks/[1-9][0-9]/**"

filters:
  - marimo-team/marimo
  # - glossary

external-env: true
jupyter: w26-201b

execute:
  python: ".venv/bin/python"
  external: true
  cache: true
  freeze: auto

website:
  announcement:
    icon: megaphone-fill
    dismissable: false
    content: "**Site Updates:** Week 02 Lab (Tues), slides (Mon)."
    type: success
    position: below-navbar
  title: "PSYC 201B"
  repo-url: https://github.com/psyc-201/w26-201b
  navbar:
    logo: logo25.png
    search: true
    tools:
      - icon: github
        href: https://github.com/psyc-201/w26-201b
    left:
      - text: Schedule
        href: schedule.qmd
      - text: Guides & Resources
        menu:
          - guides/terminology.qmd
          - guides/git-guide.qmd
          - guides/classroom-guide.qmd
          - guides/python-resources.qmd
      - text: Previous course versions
        href: https://psyc201b.github.io/PSYC-201B/

  sidebar:
    - id: weeks
      title: "Week-by-Week"
      style: docked
      contents:
        - section: "Week 1"
          contents:
            - text: "Overview"
              href: weeks/01/index.qmd
            - text: '"Pre-flight" Lab Setup'
              href: weeks/01/lab/index.qmd
            - text: "Python Fundamentals"
              href: weeks/01/lab/python-fundamentals.qmd
            - text: "Polars Crash Course"
              href: weeks/01/lab/polars-crash-course.qmd
        - section: "Week 2"
          contents:
            - text: "Overview"
              href: weeks/02/index.qmd
            # - text: "Plotting Crash Course"
            #   href: weeks/02/lab/seaborn-crash-course.qmd

bibliography: references.bib

glossary:
  path: glossary.yml
  popup: click
  show: true

format:
  html:
    theme:
      - cosmo
    css: assets/custom.css
    code-fold: true
    code-copy: true
    code-line-numbers: true
    toc: true
    toc-depth: 4
    # NOTE: marimo-islands header - version must match installed marimo Python package
    # Using 0.14.16 - quarto-marimo only works with marimo <=0.14.16 (Tailwind bug in newer versions)
    include-in-header:
      - text: |
          <script type="module" src="https://cdn.jsdelivr.net/npm/@marimo-team/islands@0.14.16/dist/main.js"></script>
          <link href="https://cdn.jsdelivr.net/npm/@marimo-team/islands@0.14.16/dist/style.css" rel="stylesheet" crossorigin="anonymous" />
          <link rel="preconnect" href="https://fonts.googleapis.com" />
          <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
          <link href="https://fonts.googleapis.com/css2?family=Fira+Mono:wght@400;500;700&amp;family=Lora&amp;family=PT+Sans:wght@400;700&amp;display=swap" rel="stylesheet" />
          <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.css" integrity="sha384-wcIxkf4k558AjM3Yz3BBFQUbk/zgIYC2R0QpeeYb+TwlBVMrlgLqwRjRtGZiK7ww" crossorigin="anonymous" />
          <marimo-filename hidden></marimo-filename>
